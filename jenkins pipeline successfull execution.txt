Started by user Ronit Waghambare
[Pipeline] Start of Pipeline
[Pipeline] node
Running on Jenkins in /var/jenkins_home/workspace/Devopsec-pipeline
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Checkout)
[Pipeline] cleanWs
[WS-CLEANUP] Deleting project workspace...
[WS-CLEANUP] Deferred wipeout is used...
[WS-CLEANUP] done
[Pipeline] git
The recommended git tool is: NONE
No credentials specified
Cloning the remote Git repository
Cloning repository https://github.com/Ronit-Waghambare/Solarv2.git
 > git init /var/jenkins_home/workspace/Devopsec-pipeline # timeout=10
Fetching upstream changes from https://github.com/Ronit-Waghambare/Solarv2.git
 > git --version # timeout=10
 > git --version # 'git version 2.47.3'
 > git fetch --tags --force --progress -- https://github.com/Ronit-Waghambare/Solarv2.git +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git config remote.origin.url https://github.com/Ronit-Waghambare/Solarv2.git # timeout=10
 > git config --add remote.origin.fetch +refs/heads/*:refs/remotes/origin/* # timeout=10
Avoid second fetch
 > git rev-parse refs/remotes/origin/main^{commit} # timeout=10
Checking out Revision 3a438c38bf072d563905423ddfc0cae35688bcdf (refs/remotes/origin/main)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 3a438c38bf072d563905423ddfc0cae35688bcdf # timeout=10
 > git branch -a -v --no-abbrev # timeout=10
 > git checkout -b main 3a438c38bf072d563905423ddfc0cae35688bcdf # timeout=10
Commit message: "final message v2"
 > git rev-list --no-walk 2691737c20e17ac20f61d4b47f04ae5cd6a73abc # timeout=10
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Install Trivy)
[Pipeline] sh
+ apt-get update
Hit:1 http://deb.debian.org/debian trixie InRelease
Get:2 http://deb.debian.org/debian trixie-updates InRelease [47.3 kB]
Hit:3 http://deb.debian.org/debian-security trixie-security InRelease
Fetched 47.3 kB in 1s (86.5 kB/s)
Reading package lists...
+ apt-get install -y curl
Reading package lists...
Building dependency tree...
Reading state information...
curl is already the newest version (8.14.1-2+deb13u2).
0 upgraded, 0 newly installed, 0 to remove and 3 not upgraded.
+ sh
+ curl -sfL https://raw.githubusercontent.com/aquasecurity/trivy/main/contrib/install.sh
aquasecurity/trivy info checking GitHub for latest tag
aquasecurity/trivy info found version: 0.68.2 for v0.68.2/Linux/64bit
aquasecurity/trivy info installed ./bin/trivy
+ ./bin/trivy --version
Version: 0.68.2
Check Bundle:
  Digest: sha256:0491169789b867ae5a7353381220c1d4d97b3a0d6d9dfd84a25d06f0ba68aa93
  DownloadedAt: 2025-12-19 20:40:06.484266235 +0000 UTC
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Install Terraform)
[Pipeline] sh
+ apt-get update
Hit:1 http://deb.debian.org/debian trixie InRelease
Hit:2 http://deb.debian.org/debian trixie-updates InRelease
Hit:3 http://deb.debian.org/debian-security trixie-security InRelease
Reading package lists...
+ apt-get install -y unzip wget
Reading package lists...
Building dependency tree...
Reading state information...
unzip is already the newest version (6.0-29).
wget is already the newest version (1.25.0-2).
0 upgraded, 0 newly installed, 0 to remove and 3 not upgraded.
+ cd /tmp
+ rm -f terraform_1.6.6_linux_amd64.zip terraform
+ wget https://releases.hashicorp.com/terraform/1.6.6/terraform_1.6.6_linux_amd64.zip
--2025-12-21 07:41:40--  https://releases.hashicorp.com/terraform/1.6.6/terraform_1.6.6_linux_amd64.zip
Resolving releases.hashicorp.com (releases.hashicorp.com)... 18.172.64.91, 18.172.64.101, 18.172.64.38, ...
Connecting to releases.hashicorp.com (releases.hashicorp.com)|18.172.64.91|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 24976120 (24M) [application/zip]
Saving to: â€˜terraform_1.6.6_linux_amd64.zipâ€™

     0K .......... .......... .......... .......... ..........  0% 5.62M 4s
    50K .......... .......... .......... .......... ..........  0% 11.8M 3s
   100K .......... .......... .......... .......... ..........  0% 11.4M 3s
   150K .......... .......... .......... .......... ..........  0% 12.1M 3s
   200K .......... .......... .......... .......... ..........  1% 6.65M 3s
   250K .......... .......... .......... .......... ..........  1% 17.6M 3s
   300K .......... .......... .......... .......... ..........  1% 3.06M 3s
   350K .......... .......... .......... .......... ..........  1% 17.2M 3s
   400K .......... .......... .......... .......... ..........  1% 17.8M 3s
   450K .......... .......... .......... .......... ..........  2% 9.49M 3s
   500K .......... .......... .......... .......... ..........  2% 15.4M 3s
   550K .......... .......... .......... .......... ..........  2% 14.6M 3s
   600K .......... .......... .......... .......... ..........  2% 42.0M 2s
   650K .......... .......... .......... .......... ..........  2% 9.29M 2s
   700K .......... .......... .......... .......... ..........  3% 8.57M 2s
   750K .......... .......... .......... .......... ..........  3% 10.4M 2s
   800K .......... .......... .......... .......... ..........  3% 5.73M 2s
   850K .......... .......... .......... .......... ..........  3% 4.83M 3s
   900K .......... .......... .......... .......... ..........  3% 14.7M 3s
   950K .......... .......... .......... .......... ..........  4% 9.22M 3s
  1000K .......... .......... .......... .......... ..........  4% 11.9M 3s
  1050K .......... .......... .......... .......... ..........  4% 7.95M 3s
  1100K .......... .......... .......... .......... ..........  4% 8.02M 3s
  1150K .......... .......... .......... .......... ..........  4% 8.47M 3s
  1200K .......... .......... .......... .......... ..........  5% 4.12M 3s
  1250K .......... .......... .......... .......... ..........  5% 5.34M 3s
  1300K .......... .......... .......... .......... ..........  5% 3.65M 3s
  1350K .......... .......... .......... .......... ..........  5% 6.79M 3s
  1400K .......... .......... .......... .......... ..........  5% 10.2M 3s
  1450K .......... .......... .......... .......... ..........  6% 15.7M 3s
  1500K .......... .......... .......... .......... ..........  6% 41.8M 3s
  1550K .......... .......... .......... .......... ..........  6% 13.3M 3s
  1600K .......... .......... .......... .......... ..........  6% 8.75M 3s
  1650K .......... .......... .......... .......... ..........  6% 7.59M 3s
  1700K .......... .......... .......... .......... ..........  7% 8.73M 3s
  1750K .......... .......... .......... .......... ..........  7% 13.7M 3s
  1800K .......... .......... .......... .......... ..........  7% 8.75M 3s
  1850K .......... .......... .......... .......... ..........  7% 12.1M 3s
  1900K .......... .......... .......... .......... ..........  7% 15.5M 3s
  1950K .......... .......... .......... .......... ..........  8% 7.57M 3s
  2000K .......... .......... .......... .......... ..........  8% 12.7M 2s
  2050K .......... .......... .......... .......... ..........  8% 13.7M 2s
  2100K .......... .......... .......... .......... ..........  8% 12.4M 2s
  2150K .......... .......... .......... .......... ..........  9% 14.0M 2s
  2200K .......... .......... .......... .......... ..........  9% 10.0M 2s
  2250K .......... .......... .......... .......... ..........  9% 13.0M 2s
  2300K .......... .......... .......... .......... ..........  9% 9.00M 2s
  2350K .......... .......... .......... .......... ..........  9% 4.76M 2s
  2400K .......... .......... .......... .......... .......... 10% 5.19M 2s
  2450K .......... .......... .......... .......... .......... 10% 8.28M 2s
  2500K .......... .......... .......... .......... .......... 10% 8.01M 2s
  2550K .......... .......... .......... .......... .......... 10% 9.67M 2s
  2600K .......... .......... .......... .......... .......... 10% 8.63M 2s
  2650K .......... .......... .......... .......... .......... 11% 7.69M 2s
  2700K .......... .......... .......... .......... .......... 11% 2.64M 3s
  2750K .......... .......... .......... .......... .......... 11% 8.36M 3s
  2800K .......... .......... .......... .......... .......... 11% 15.6M 2s
  2850K .......... .......... .......... .......... .......... 11% 8.70M 2s
  2900K .......... .......... .......... .......... .......... 12% 5.20M 3s
  2950K .......... .......... .......... .......... .......... 12% 7.39M 3s
  3000K .......... .......... .......... .......... .......... 12% 5.93M 3s
  3050K .......... .......... .......... .......... .......... 12% 7.64M 3s
  3100K .......... .......... .......... .......... .......... 12% 13.4M 2s
  3150K .......... .......... .......... .......... .......... 13% 10.4M 2s
  3200K .......... .......... .......... .......... .......... 13% 8.21M 2s
  3250K .......... .......... .......... .......... .......... 13% 17.8M 2s
  3300K .......... .......... .......... .......... .......... 13% 14.9M 2s
  3350K .......... .......... .......... .......... .......... 13% 3.25M 2s
  3400K .......... .......... .......... .......... .......... 14% 9.27M 2s
  3450K .......... .......... .......... .......... .......... 14% 6.71M 2s
  3500K .......... .......... .......... .......... .......... 14% 9.49M 2s
  3550K .......... .......... .......... .......... .......... 14% 6.80M 2s
  3600K .......... .......... .......... .......... .......... 14% 9.21M 2s
  3650K .......... .......... .......... .......... .......... 15% 11.6M 2s
  3700K .......... .......... .......... .......... .......... 15% 9.35M 2s
  3750K .......... .......... .......... .......... .......... 15% 6.90M 2s
  3800K .......... .......... .......... .......... .......... 15% 4.65M 2s
  3850K .......... .......... .......... .......... .......... 15% 7.73M 2s
  3900K .......... .......... .......... .......... .......... 16% 34.0M 2s
  3950K .......... .......... .......... .......... .......... 16% 28.3M 2s
  4000K .......... .......... .......... .......... .......... 16% 8.71M 2s
  4050K .......... .......... .......... .......... .......... 16% 15.7M 2s
  4100K .......... .......... .......... .......... .......... 17% 7.55M 2s
  4150K .......... .......... .......... .......... .......... 17% 24.5M 2s
  4200K .......... .......... .......... .......... .......... 17% 6.18M 2s
  4250K .......... .......... .......... .......... .......... 17% 6.05M 2s
  4300K .......... .......... .......... .......... .......... 17% 4.59M 2s
  4350K .......... .......... .......... .......... .......... 18% 8.13M 2s
  4400K .......... .......... .......... .......... .......... 18% 4.83M 2s
  4450K .......... .......... .......... .......... .......... 18% 7.70M 2s
  4500K .......... .......... .......... .......... .......... 18% 5.14M 2s
  4550K .......... .......... .......... .......... .......... 18% 10.1M 2s
  4600K .......... .......... .......... .......... .......... 19% 4.49M 2s
  4650K .......... .......... .......... .......... .......... 19% 7.72M 2s
  4700K .......... .......... .......... .......... .......... 19% 23.2M 2s
  4750K .......... .......... .......... .......... .......... 19% 6.88M 2s
  4800K .......... .......... .......... .......... .......... 19% 24.1M 2s
  4850K .......... .......... .......... .......... .......... 20% 7.74M 2s
  4900K .......... .......... .......... .......... .......... 20% 14.1M 2s
  4950K .......... .......... .......... .......... .......... 20% 4.92M 2s
  5000K .......... .......... .......... .......... .......... 20% 5.20M 2s
  5050K .......... .......... .......... .......... .......... 20% 2.69M 2s
  5100K .......... .......... .......... .......... .......... 21% 7.11M 2s
  5150K .......... .......... .......... .......... .......... 21% 11.8M 2s
  5200K .......... .......... .......... .......... .......... 21% 11.5M 2s
  5250K .......... .......... .......... .......... .......... 21% 14.5M 2s
  5300K .......... .......... .......... .......... .......... 21% 9.22M 2s
  5350K .......... .......... .......... .......... .......... 22% 9.34M 2s
  5400K .......... .......... .......... .......... .......... 22% 8.36M 2s
  5450K .......... .......... .......... .......... .......... 22% 7.91M 2s
  5500K .......... .......... .......... .......... .......... 22% 41.1M 2s
  5550K .......... .......... .......... .......... .......... 22% 29.4M 2s
  5600K .......... .......... .......... .......... .......... 23% 13.1M 2s
  5650K .......... .......... .......... .......... .......... 23% 6.96M 2s
  5700K .......... .......... .......... .......... .......... 23% 4.06M 2s
  5750K .......... .......... .......... .......... .......... 23% 8.31M 2s
  5800K .......... .......... .......... .......... .......... 23% 4.04M 2s
  5850K .......... .......... .......... .......... .......... 24% 9.23M 2s
  5900K .......... .......... .......... .......... .......... 24% 8.84M 2s
  5950K .......... .......... .......... .......... .......... 24% 2.81M 2s
  6000K .......... .......... .......... .......... .......... 24% 6.66M 2s
  6050K .......... .......... .......... .......... .......... 25% 7.74M 2s
  6100K .......... .......... .......... .......... .......... 25% 14.2M 2s
  6150K .......... .......... .......... .......... .......... 25% 6.16M 2s
  6200K .......... .......... .......... .......... .......... 25% 20.1M 2s
  6250K .......... .......... .......... .......... .......... 25% 7.96M 2s
  6300K .......... .......... .......... .......... .......... 26% 3.65M 2s
  6350K .......... .......... .......... .......... .......... 26% 1.99M 2s
  6400K .......... .......... .......... .......... .......... 26% 5.59M 2s
  6450K .......... .......... .......... .......... .......... 26% 5.79M 2s
  6500K .......... .......... .......... .......... .......... 26% 4.61M 2s
  6550K .......... .......... .......... .......... .......... 27% 8.10M 2s
  6600K .......... .......... .......... .......... .......... 27% 13.0M 2s
  6650K .......... .......... .......... .......... .......... 27% 12.6M 2s
  6700K .......... .......... .......... .......... .......... 27% 4.20M 2s
  6750K .......... .......... .......... .......... .......... 27% 4.28M 2s
  6800K .......... .......... .......... .......... .......... 28% 14.6M 2s
  6850K .......... .......... .......... .......... .......... 28% 18.8M 2s
  6900K .......... .......... .......... .......... .......... 28% 12.0M 2s
  6950K .......... .......... .......... .......... .......... 28% 5.84M 2s
  7000K .......... .......... .......... .......... .......... 28% 7.95M 2s
  7050K .......... .......... .......... .......... .......... 29% 8.43M 2s
  7100K .......... .......... .......... .......... .......... 29% 7.63M 2s
  7150K .......... .......... .......... .......... .......... 29% 21.5M 2s
  7200K .......... .......... .......... .......... .......... 29% 12.8M 2s
  7250K .......... .......... .......... .......... .......... 29% 21.4M 2s
  7300K .......... .......... .......... .......... .......... 30% 5.46M 2s
  7350K .......... .......... .......... .......... .......... 30% 23.7M 2s
  7400K .......... .......... .......... .......... .......... 30% 8.95M 2s
  7450K .......... .......... .......... .......... .......... 30% 14.3M 2s
  7500K .......... .......... .......... .......... .......... 30% 12.5M 2s
  7550K .......... .......... .......... .......... .......... 31% 9.82M 2s
  7600K .......... .......... .......... .......... .......... 31% 21.7M 2s
  7650K .......... .......... .......... .......... .......... 31% 22.1M 2s
  7700K .......... .......... .......... .......... .......... 31% 12.6M 2s
  7750K .......... .......... .......... .......... .......... 31% 13.7M 2s
  7800K .......... .......... .......... .......... .......... 32% 11.2M 2s
  7850K .......... .......... .......... .......... .......... 32% 21.6M 2s
  7900K .......... .......... .......... .......... .......... 32% 20.6M 2s
  7950K .......... .......... .......... .......... .......... 32% 9.77M 2s
  8000K .......... .......... .......... .......... .......... 33% 5.26M 2s
  8050K .......... .......... .......... .......... .......... 33% 8.69M 2s
  8100K .......... .......... .......... .......... .......... 33% 5.88M 2s
  8150K .......... .......... .......... .......... .......... 33% 10.6M 2s
  8200K .......... .......... .......... .......... .......... 33% 5.86M 2s
  8250K .......... .......... .......... .......... .......... 34% 11.0M 2s
  8300K .......... .......... .......... .......... .......... 34% 14.1M 2s
  8350K .......... .......... .......... .......... .......... 34% 11.8M 2s
  8400K .......... .......... .......... .......... .......... 34% 10.9M 2s
  8450K .......... .......... .......... .......... .......... 34% 29.9M 2s
  8500K .......... .......... .......... .......... .......... 35% 24.9M 2s
  8550K .......... .......... .......... .......... .......... 35% 27.3M 2s
  8600K .......... .......... .......... .......... .......... 35% 10.2M 2s
  8650K .......... .......... .......... .......... .......... 35% 13.8M 2s
  8700K .......... .......... .......... .......... .......... 35% 12.9M 2s
  8750K .......... .......... .......... .......... .......... 36% 17.4M 2s
  8800K .......... .......... .......... .......... .......... 36% 8.03M 2s
  8850K .......... .......... .......... .......... .......... 36% 4.30M 2s
  8900K .......... .......... .......... .......... .......... 36% 17.2M 2s
  8950K .......... .......... .......... .......... .......... 36% 18.8M 2s
  9000K .......... .......... .......... .......... .......... 37% 14.1M 2s
  9050K .......... .......... .......... .......... .......... 37% 12.4M 2s
  9100K .......... .......... .......... .......... .......... 37% 30.5M 2s
  9150K .......... .......... .......... .......... .......... 37% 23.8M 2s
  9200K .......... .......... .......... .......... .......... 37% 26.8M 2s
  9250K .......... .......... .......... .......... .......... 38% 21.9M 2s
  9300K .......... .......... .......... .......... .......... 38% 14.1M 2s
  9350K .......... .......... .......... .......... .......... 38% 10.7M 2s
  9400K .......... .......... .......... .......... .......... 38% 18.4M 2s
  9450K .......... .......... .......... .......... .......... 38% 22.5M 2s
  9500K .......... .......... .......... .......... .......... 39% 17.7M 2s
  9550K .......... .......... .......... .......... .......... 39% 6.08M 2s
  9600K .......... .......... .......... .......... .......... 39% 4.08M 2s
  9650K .......... .......... .......... .......... .......... 39% 5.10M 2s
  9700K .......... .......... .......... .......... .......... 39% 8.74M 2s
  9750K .......... .......... .......... .......... .......... 40% 3.80M 2s
  9800K .......... .......... .......... .......... .......... 40% 12.7M 2s
  9850K .......... .......... .......... .......... .......... 40% 6.03M 2s
  9900K .......... .......... .......... .......... .......... 40% 15.7M 2s
  9950K .......... .......... .......... .......... .......... 40% 7.63M 2s
 10000K .......... .......... .......... .......... .......... 41% 5.62M 2s
 10050K .......... .......... .......... .......... .......... 41% 6.37M 2s
 10100K .......... .......... .......... .......... .......... 41% 5.01M 2s
 10150K .......... .......... .......... .......... .......... 41% 8.04M 2s
 10200K .......... .......... .......... .......... .......... 42% 4.47M 2s
 10250K .......... .......... .......... .......... .......... 42% 4.59M 2s
 10300K .......... .......... .......... .......... .......... 42% 6.75M 2s
 10350K .......... .......... .......... .......... .......... 42% 26.0M 2s
 10400K .......... .......... .......... .......... .......... 42% 25.1M 2s
 10450K .......... .......... .......... .......... .......... 43% 1.80M 2s
 10500K .......... .......... .......... .......... .......... 43% 7.08M 2s
 10550K .......... .......... .......... .......... .......... 43% 8.70M 2s
 10600K .......... .......... .......... .......... .......... 43% 12.6M 2s
 10650K .......... .......... .......... .......... .......... 43% 12.8M 2s
 10700K .......... .......... .......... .......... .......... 44% 15.6M 2s
 10750K .......... .......... .......... .......... .......... 44% 29.4M 2s
 10800K .......... .......... .......... .......... .......... 44% 16.0M 2s
 10850K .......... .......... .......... .......... .......... 44% 16.7M 2s
 10900K .......... .......... .......... .......... .......... 44% 19.9M 2s
 10950K .......... .......... .......... .......... .......... 45% 25.1M 2s
 11000K .......... .......... .......... .......... .......... 45% 19.8M 2s
 11050K .......... .......... .......... .......... .......... 45% 17.5M 2s
 11100K .......... .......... .......... .......... .......... 45% 26.5M 2s
 11150K .......... .......... .......... .......... .......... 45% 10.0M 2s
 11200K .......... .......... .......... .......... .......... 46% 27.2M 2s
 11250K .......... .......... .......... .......... .......... 46% 28.7M 2s
 11300K .......... .......... .......... .......... .......... 46% 10.4M 2s
 11350K .......... .......... .......... .......... .......... 46% 6.22M 2s
 11400K .......... .......... .......... .......... .......... 46% 8.94M 2s
 11450K .......... .......... .......... .......... .......... 47% 6.11M 1s
 11500K .......... .......... .......... .......... .......... 47% 10.1M 1s
 11550K .......... .......... .......... .......... .......... 47% 22.0M 1s
 11600K .......... .......... .......... .......... .......... 47% 17.2M 1s
 11650K .......... .......... .......... .......... .......... 47% 13.4M 1s
 11700K .......... .......... .......... .......... .......... 48% 6.09M 1s
 11750K .......... .......... .......... .......... .......... 48% 11.2M 1s
 11800K .......... .......... .......... .......... .......... 48% 14.9M 1s
 11850K .......... .......... .......... .......... .......... 48% 10.7M 1s
 11900K .......... .......... .......... .......... .......... 48% 13.0M 1s
 11950K .......... .......... .......... .......... .......... 49% 16.4M 1s
 12000K .......... .......... .......... .......... .......... 49% 20.9M 1s
 12050K .......... .......... .......... .......... .......... 49% 23.9M 1s
 12100K .......... .......... .......... .......... .......... 49% 17.8M 1s
 12150K .......... .......... .......... .......... .......... 50% 11.1M 1s
 12200K .......... .......... .......... .......... .......... 50% 13.1M 1s
 12250K .......... .......... .......... .......... .......... 50% 19.0M 1s
 12300K .......... .......... .......... .......... .......... 50% 9.07M 1s
 12350K .......... .......... .......... .......... .......... 50% 35.4M 1s
 12400K .......... .......... .......... .......... .......... 51% 13.5M 1s
 12450K .......... .......... .......... .......... .......... 51% 11.1M 1s
 12500K .......... .......... .......... .......... .......... 51% 7.86M 1s
 12550K .......... .......... .......... .......... .......... 51% 15.6M 1s
 12600K .......... .......... .......... .......... .......... 51% 6.26M 1s
 12650K .......... .......... .......... .......... .......... 52% 7.59M 1s
 12700K .......... .......... .......... .......... .......... 52% 4.30M 1s
 12750K .......... .......... .......... .......... .......... 52% 13.5M 1s
 12800K .......... .......... .......... .......... .......... 52% 4.79M 1s
 12850K .......... .......... .......... .......... .......... 52% 12.8M 1s
 12900K .......... .......... .......... .......... .......... 53% 7.85M 1s
 12950K .......... .......... .......... .......... .......... 53% 5.80M 1s
 13000K .......... .......... .......... .......... .......... 53% 10.6M 1s
 13050K .......... .......... .......... .......... .......... 53% 12.0M 1s
 13100K .......... .......... .......... .......... .......... 53% 6.15M 1s
 13150K .......... .......... .......... .......... .......... 54% 17.4M 1s
 13200K .......... .......... .......... .......... .......... 54% 14.3M 1s
 13250K .......... .......... .......... .......... .......... 54% 11.3M 1s
 13300K .......... .......... .......... .......... .......... 54% 14.6M 1s
 13350K .......... .......... .......... .......... .......... 54% 8.32M 1s
 13400K .......... .......... .......... .......... .......... 55% 9.60M 1s
 13450K .......... .......... .......... .......... .......... 55% 9.05M 1s
 13500K .......... .......... .......... .......... .......... 55% 14.9M 1s
 13550K .......... .......... .......... .......... .......... 55% 13.5M 1s
 13600K .......... .......... .......... .......... .......... 55% 21.6M 1s
 13650K .......... .......... .......... .......... .......... 56% 13.9M 1s
 13700K .......... .......... .......... .......... .......... 56% 9.20M 1s
 13750K .......... .......... .......... .......... .......... 56% 17.7M 1s
 13800K .......... .......... .......... .......... .......... 56% 18.3M 1s
 13850K .......... .......... .......... .......... .......... 56% 11.8M 1s
 13900K .......... .......... .......... .......... .......... 57% 10.6M 1s
 13950K .......... .......... .......... .......... .......... 57% 16.7M 1s
 14000K .......... .......... .......... .......... .......... 57% 19.5M 1s
 14050K .......... .......... .......... .......... .......... 57% 17.2M 1s
 14100K .......... .......... .......... .......... .......... 58% 17.0M 1s
 14150K .......... .......... .......... .......... .......... 58% 11.7M 1s
 14200K .......... .......... .......... .......... .......... 58% 14.9M 1s
 14250K .......... .......... .......... .......... .......... 58% 13.7M 1s
 14300K .......... .......... .......... .......... .......... 58% 11.4M 1s
 14350K .......... .......... .......... .......... .......... 59% 27.0M 1s
 14400K .......... .......... .......... .......... .......... 59% 12.1M 1s
 14450K .......... .......... .......... .......... .......... 59% 20.4M 1s
 14500K .......... .......... .......... .......... .......... 59% 16.4M 1s
 14550K .......... .......... .......... .......... .......... 59% 16.1M 1s
 14600K .......... .......... .......... .......... .......... 60% 30.9M 1s
 14650K .......... .......... .......... .......... .......... 60% 8.87M 1s
 14700K .......... .......... .......... .......... .......... 60% 28.7M 1s
 14750K .......... .......... .......... .......... .......... 60% 12.4M 1s
 14800K .......... .......... .......... .......... .......... 60% 20.9M 1s
 14850K .......... .......... .......... .......... .......... 61% 16.0M 1s
 14900K .......... .......... .......... .......... .......... 61% 7.68M 1s
 14950K .......... .......... .......... .......... .......... 61% 19.2M 1s
 15000K .......... .......... .......... .......... .......... 61% 19.0M 1s
 15050K .......... .......... .......... .......... .......... 61% 9.52M 1s
 15100K .......... .......... .......... .......... .......... 62% 12.7M 1s
 15150K .......... .......... .......... .......... .......... 62% 7.00M 1s
 15200K .......... .......... .......... .......... .......... 62% 6.51M 1s
 15250K .......... .......... .......... .......... .......... 62% 7.73M 1s
 15300K .......... .......... .......... .......... .......... 62% 17.8M 1s
 15350K .......... .......... .......... .......... .......... 63% 17.4M 1s
 15400K .......... .......... .......... .......... .......... 63% 11.0M 1s
 15450K .......... .......... .......... .......... .......... 63% 9.86M 1s
 15500K .......... .......... .......... .......... .......... 63% 30.3M 1s
 15550K .......... .......... .......... .......... .......... 63% 6.26M 1s
 15600K .......... .......... .......... .......... .......... 64% 5.67M 1s
 15650K .......... .......... .......... .......... .......... 64% 13.2M 1s
 15700K .......... .......... .......... .......... .......... 64% 16.9M 1s
 15750K .......... .......... .......... .......... .......... 64% 15.8M 1s
 15800K .......... .......... .......... .......... .......... 64% 15.6M 1s
 15850K .......... .......... .......... .......... .......... 65% 14.5M 1s
 15900K .......... .......... .......... .......... .......... 65% 21.0M 1s
 15950K .......... .......... .......... .......... .......... 65% 15.3M 1s
 16000K .......... .......... .......... .......... .......... 65% 14.4M 1s
 16050K .......... .......... .......... .......... .......... 66% 7.56M 1s
 16100K .......... .......... .......... .......... .......... 66% 13.7M 1s
 16150K .......... .......... .......... .......... .......... 66% 7.92M 1s
 16200K .......... .......... .......... .......... .......... 66% 22.6M 1s
 16250K .......... .......... .......... .......... .......... 66% 5.86M 1s
 16300K .......... .......... .......... .......... .......... 67% 7.17M 1s
 16350K .......... .......... .......... .......... .......... 67% 6.64M 1s
 16400K .......... .......... .......... .......... .......... 67% 16.7M 1s
 16450K .......... .......... .......... .......... .......... 67% 9.17M 1s
 16500K .......... .......... .......... .......... .......... 67% 18.0M 1s
 16550K .......... .......... .......... .......... .......... 68% 9.88M 1s
 16600K .......... .......... .......... .......... .......... 68% 10.7M 1s
 16650K .......... .......... .......... .......... .......... 68% 5.45M 1s
 16700K .......... .......... .......... .......... .......... 68% 9.98M 1s
 16750K .......... .......... .......... .......... .......... 68% 10.0M 1s
 16800K .......... .......... .......... .......... .......... 69% 8.21M 1s
 16850K .......... .......... .......... .......... .......... 69% 10.0M 1s
 16900K .......... .......... .......... .......... .......... 69% 13.2M 1s
 16950K .......... .......... .......... .......... .......... 69% 9.07M 1s
 17000K .......... .......... .......... .......... .......... 69% 10.8M 1s
 17050K .......... .......... .......... .......... .......... 70% 6.09M 1s
 17100K .......... .......... .......... .......... .......... 70% 9.72M 1s
 17150K .......... .......... .......... .......... .......... 70% 15.4M 1s
 17200K .......... .......... .......... .......... .......... 70% 9.09M 1s
 17250K .......... .......... .......... .......... .......... 70% 15.0M 1s
 17300K .......... .......... .......... .......... .......... 71% 15.2M 1s
 17350K .......... .......... .......... .......... .......... 71% 12.4M 1s
 17400K .......... .......... .......... .......... .......... 71% 9.99M 1s
 17450K .......... .......... .......... .......... .......... 71% 10.9M 1s
 17500K .......... .......... .......... .......... .......... 71% 8.22M 1s
 17550K .......... .......... .......... .......... .......... 72% 9.18M 1s
 17600K .......... .......... .......... .......... .......... 72% 10.6M 1s
 17650K .......... .......... .......... .......... .......... 72% 16.7M 1s
 17700K .......... .......... .......... .......... .......... 72% 17.1M 1s
 17750K .......... .......... .......... .......... .......... 72% 17.6M 1s
 17800K .......... .......... .......... .......... .......... 73% 7.57M 1s
 17850K .......... .......... .......... .......... .......... 73% 10.6M 1s
 17900K .......... .......... .......... .......... .......... 73% 12.6M 1s
 17950K .......... .......... .......... .......... .......... 73% 10.7M 1s
 18000K .......... .......... .......... .......... .......... 74% 12.2M 1s
 18050K .......... .......... .......... .......... .......... 74% 8.99M 1s
 18100K .......... .......... .......... .......... .......... 74% 5.98M 1s
 18150K .......... .......... .......... .......... .......... 74% 9.88M 1s
 18200K .......... .......... .......... .......... .......... 74% 12.5M 1s
 18250K .......... .......... .......... .......... .......... 75% 10.3M 1s
 18300K .......... .......... .......... .......... .......... 75% 12.9M 1s
 18350K .......... .......... .......... .......... .......... 75% 5.05M 1s
 18400K .......... .......... .......... .......... .......... 75% 2.77M 1s
 18450K .......... .......... .......... .......... .......... 75% 2.92M 1s
 18500K .......... .......... .......... .......... .......... 76% 10.3M 1s
 18550K .......... .......... .......... .......... .......... 76% 12.7M 1s
 18600K .......... .......... .......... .......... .......... 76% 9.47M 1s
 18650K .......... .......... .......... .......... .......... 76% 4.82M 1s
 18700K .......... .......... .......... .......... .......... 76% 8.69M 1s
 18750K .......... .......... .......... .......... .......... 77% 7.33M 1s
 18800K .......... .......... .......... .......... .......... 77% 9.15M 1s
 18850K .......... .......... .......... .......... .......... 77% 8.72M 1s
 18900K .......... .......... .......... .......... .......... 77% 7.76M 1s
 18950K .......... .......... .......... .......... .......... 77% 5.22M 1s
 19000K .......... .......... .......... .......... .......... 78% 10.6M 1s
 19050K .......... .......... .......... .......... .......... 78% 8.80M 1s
 19100K .......... .......... .......... .......... .......... 78% 9.80M 1s
 19150K .......... .......... .......... .......... .......... 78% 16.4M 1s
 19200K .......... .......... .......... .......... .......... 78% 16.1M 1s
 19250K .......... .......... .......... .......... .......... 79% 14.5M 1s
 19300K .......... .......... .......... .......... .......... 79% 15.1M 1s
 19350K .......... .......... .......... .......... .......... 79% 14.6M 1s
 19400K .......... .......... .......... .......... .......... 79% 11.2M 1s
 19450K .......... .......... .......... .......... .......... 79% 17.1M 1s
 19500K .......... .......... .......... .......... .......... 80% 9.76M 1s
 19550K .......... .......... .......... .......... .......... 80% 11.8M 1s
 19600K .......... .......... .......... .......... .......... 80% 20.7M 1s
 19650K .......... .......... .......... .......... .......... 80% 13.3M 1s
 19700K .......... .......... .......... .......... .......... 80% 9.49M 0s
 19750K .......... .......... .......... .......... .......... 81% 17.9M 0s
 19800K .......... .......... .......... .......... .......... 81% 23.0M 0s
 19850K .......... .......... .......... .......... .......... 81% 11.8M 0s
 19900K .......... .......... .......... .......... .......... 81% 15.8M 0s
 19950K .......... .......... .......... .......... .......... 81% 9.08M 0s
 20000K .......... .......... .......... .......... .......... 82% 21.7M 0s
 20050K .......... .......... .......... .......... .......... 82% 19.4M 0s
 20100K .......... .......... .......... .......... .......... 82% 18.9M 0s
 20150K .......... .......... .......... .......... .......... 82% 15.7M 0s
 20200K .......... .......... .......... .......... .......... 83% 10.9M 0s
 20250K .......... .......... .......... .......... .......... 83% 12.5M 0s
 20300K .......... .......... .......... .......... .......... 83% 25.2M 0s
 20350K .......... .......... .......... .......... .......... 83% 15.4M 0s
 20400K .......... .......... .......... .......... .......... 83% 15.2M 0s
 20450K .......... .......... .......... .......... .......... 84% 11.9M 0s
 20500K .......... .......... .......... .......... .......... 84% 13.1M 0s
 20550K .......... .......... .......... .......... .......... 84% 8.82M 0s
 20600K .......... .......... .......... .......... .......... 84% 8.50M 0s
 20650K .......... .......... .......... .......... .......... 84% 8.76M 0s
 20700K .......... .......... .......... .......... .......... 85% 10.4M 0s
 20750K .......... .......... .......... .......... .......... 85% 15.8M 0s
 20800K .......... .......... .......... .......... .......... 85% 15.2M 0s
 20850K .......... .......... .......... .......... .......... 85% 11.5M 0s
 20900K .......... .......... .......... .......... .......... 85% 21.6M 0s
 20950K .......... .......... .......... .......... .......... 86% 14.0M 0s
 21000K .......... .......... .......... .......... .......... 86% 14.1M 0s
 21050K .......... .......... .......... .......... .......... 86% 18.7M 0s
 21100K .......... .......... .......... .......... .......... 86% 15.6M 0s
 21150K .......... .......... .......... .......... .......... 86% 13.6M 0s
 21200K .......... .......... .......... .......... .......... 87% 18.3M 0s
 21250K .......... .......... .......... .......... .......... 87% 12.8M 0s
 21300K .......... .......... .......... .......... .......... 87% 18.2M 0s
 21350K .......... .......... .......... .......... .......... 87% 11.5M 0s
 21400K .......... .......... .......... .......... .......... 87% 16.7M 0s
 21450K .......... .......... .......... .......... .......... 88% 17.6M 0s
 21500K .......... .......... .......... .......... .......... 88% 15.5M 0s
 21550K .......... .......... .......... .......... .......... 88% 16.6M 0s
 21600K .......... .......... .......... .......... .......... 88% 12.0M 0s
 21650K .......... .......... .......... .......... .......... 88% 11.5M 0s
 21700K .......... .......... .......... .......... .......... 89% 12.5M 0s
 21750K .......... .......... .......... .......... .......... 89% 14.2M 0s
 21800K .......... .......... .......... .......... .......... 89% 7.82M 0s
 21850K .......... .......... .......... .......... .......... 89% 11.5M 0s
 21900K .......... .......... .......... .......... .......... 89% 15.9M 0s
 21950K .......... .......... .......... .......... .......... 90% 15.5M 0s
 22000K .......... .......... .......... .......... .......... 90% 12.0M 0s
 22050K .......... .......... .......... .......... .......... 90% 12.6M 0s
 22100K .......... .......... .......... .......... .......... 90% 14.2M 0s
 22150K .......... .......... .......... .......... .......... 91% 13.8M 0s
 22200K .......... .......... .......... .......... .......... 91% 17.2M 0s
 22250K .......... .......... .......... .......... .......... 91% 12.5M 0s
 22300K .......... .......... .......... .......... .......... 91% 7.05M 0s
 22350K .......... .......... .......... .......... .......... 91% 12.0M 0s
 22400K .......... .......... .......... .......... .......... 92% 13.0M 0s
 22450K .......... .......... .......... .......... .......... 92% 9.33M 0s
 22500K .......... .......... .......... .......... .......... 92% 5.00M 0s
 22550K .......... .......... .......... .......... .......... 92% 7.87M 0s
 22600K .......... .......... .......... .......... .......... 92% 13.6M 0s
 22650K .......... .......... .......... .......... .......... 93% 13.1M 0s
 22700K .......... .......... .......... .......... .......... 93% 18.8M 0s
 22750K .......... .......... .......... .......... .......... 93% 7.18M 0s
 22800K .......... .......... .......... .......... .......... 93% 23.0M 0s
 22850K .......... .......... .......... .......... .......... 93% 15.0M 0s
 22900K .......... .......... .......... .......... .......... 94% 19.5M 0s
 22950K .......... .......... .......... .......... .......... 94% 13.0M 0s
 23000K .......... .......... .......... .......... .......... 94% 8.65M 0s
 23050K .......... .......... .......... .......... .......... 94% 17.7M 0s
 23100K .......... .......... .......... .......... .......... 94% 13.9M 0s
 23150K .......... .......... .......... .......... .......... 95% 13.9M 0s
 23200K .......... .......... .......... .......... .......... 95% 7.44M 0s
 23250K .......... .......... .......... .......... .......... 95% 14.7M 0s
 23300K .......... .......... .......... .......... .......... 95% 18.5M 0s
 23350K .......... .......... .......... .......... .......... 95% 11.0M 0s
 23400K .......... .......... .......... .......... .......... 96% 8.47M 0s
 23450K .......... .......... .......... .......... .......... 96% 14.0M 0s
 23500K .......... .......... .......... .......... .......... 96% 19.3M 0s
 23550K .......... .......... .......... .......... .......... 96% 11.5M 0s
 23600K .......... .......... .......... .......... .......... 96% 5.70M 0s
 23650K .......... .......... .......... .......... .......... 97% 5.44M 0s
 23700K .......... .......... .......... .......... .......... 97% 5.72M 0s
 23750K .......... .......... .......... .......... .......... 97% 7.89M 0s
 23800K .......... .......... .......... .......... .......... 97% 6.03M 0s
 23850K .......... .......... .......... .......... .......... 97% 8.06M 0s
 23900K .......... .......... .......... .......... .......... 98% 8.56M 0s
 23950K .......... .......... .......... .......... .......... 98% 5.95M 0s
 24000K .......... .......... .......... .......... .......... 98% 7.02M 0s
 24050K .......... .......... .......... .......... .......... 98% 5.49M 0s
 24100K .......... .......... .......... .......... .......... 99% 6.31M 0s
 24150K .......... .......... .......... .......... .......... 99% 4.96M 0s
 24200K .......... .......... .......... .......... .......... 99% 6.46M 0s
 24250K .......... .......... .......... .......... .......... 99% 6.93M 0s
 24300K .......... .......... .......... .......... .......... 99% 5.68M 0s
 24350K .......... .......... .......... ..........           100% 4.36M=2.5s

2025-12-21 07:41:42 (9.43 MB/s) - â€˜terraform_1.6.6_linux_amd64.zipâ€™ saved [24976120/24976120]

+ unzip -o terraform_1.6.6_linux_amd64.zip
Archive:  terraform_1.6.6_linux_amd64.zip
  inflating: terraform               
+ chmod +x terraform
+ mv terraform /usr/local/bin/
+ terraform -version
Terraform v1.6.6
on linux_amd64

Your version of Terraform is out of date! The latest version
is 1.14.3. You can update by downloading from https://www.terraform.io/downloads.html
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Terraform Security Scan)
[Pipeline] sh
+ ./bin/trivy config terraform/ --severity HIGH,CRITICAL
2025-12-21T07:41:46Z	INFO	[misconfig] Misconfiguration scanning is enabled
2025-12-21T07:41:53Z	INFO	[terraform scanner] Scanning root module	file_path="."
2025-12-21T07:41:53Z	WARN	[terraform parser] Variable values were not found in the environment or variable files. Evaluating may not work correctly.	module="root" variables="my_ip"
2025-12-21T07:41:53Z	INFO	Detected config files	num=3

Report Summary

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Target       â”‚   Type    â”‚ Misconfigurations â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ .                 â”‚ terraform â”‚         0         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ec2.tf            â”‚ terraform â”‚         2         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ security_group.tf â”‚ terraform â”‚         1         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Legend:
- '-': Not scanned
- '0': Clean (no security findings detected)


ec2.tf (terraform)
==================
Tests: 2 (SUCCESSES: 0, FAILURES: 2)
Failures: 2 (HIGH: 2, CRITICAL: 0)

AVD-AWS-0028 (HIGH): Instance does not require IMDS access to require a token.
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
IMDS v2 (Instance Metadata Service) introduced session authentication tokens which improve security when talking to IMDS.

By default <code>aws_instance</code> resource sets IMDS session auth tokens to be optional.

To fully protect IMDS you need to enable session tokens by using <code>metadata_options</code> block and its <code>http_tokens</code> variable set to <code>required</code>.


See https://avd.aquasec.com/misconfig/avd-aws-0028
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 ec2.tf:1-25
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   1 â”Œ resource "aws_instance" "web" {
   2 â”‚   ami           = "ami-053b0d53c279acc90" # Ubuntu 22.04 us-east-1
   3 â”‚   instance_type = "t3.micro"
   4 â”‚   key_name      = "Devopsec"
   5 â”‚ 
   6 â”‚   vpc_security_group_ids = [aws_security_group.web_sg.id]
   7 â”‚ 
   8 â”‚   tags = {
   9 â””     Name = "DevSecOps-Web"
  ..   
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€


AVD-AWS-0131 (HIGH): Root block device is not encrypted.
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Block devices should be encrypted to ensure sensitive data is held securely at rest.


See https://avd.aquasec.com/misconfig/avd-aws-0131
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 ec2.tf:1-25
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   1 â”Œ resource "aws_instance" "web" {
   2 â”‚   ami           = "ami-053b0d53c279acc90" # Ubuntu 22.04 us-east-1
   3 â”‚   instance_type = "t3.micro"
   4 â”‚   key_name      = "Devopsec"
   5 â”‚ 
   6 â”‚   vpc_security_group_ids = [aws_security_group.web_sg.id]
   7 â”‚ 
   8 â”‚   tags = {
   9 â””     Name = "DevSecOps-Web"
  ..   
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€



security_group.tf (terraform)
=============================
Tests: 1 (SUCCESSES: 0, FAILURES: 1)
Failures: 1 (HIGH: 0, CRITICAL: 1)

AVD-AWS-0104 (CRITICAL): Security group rule allows unrestricted egress to any IP address.
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Opening up ports to connect out to the public internet is generally to be avoided. You should restrict access to IP addresses or ranges that are explicitly required where possible.


See https://avd.aquasec.com/misconfig/aws-vpc-no-public-egress-sgr
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 security_group.tf:25
   via security_group.tf:21-26 (egress)
    via security_group.tf:1-27 (aws_security_group.web_sg)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   1   resource "aws_security_group" "web_sg" {
   .   
  25 [     cidr_blocks = ["0.0.0.0/0"]
  ..   
  27   }
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€


[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Terraform Init, Plan & Apply)
[Pipeline] withCredentials
Masking supported pattern matches of $AWS_ACCESS_KEY_ID or $AWS_SECRET_ACCESS_KEY
[Pipeline] {
[Pipeline] withEnv
[Pipeline] {
[Pipeline] sh
+ cd terraform
+ curl -s https://checkip.amazonaws.com
+ export TF_VAR_my_ip=49.36.97.197/32
+ terraform init

[0m[1mInitializing the backend...[0m

[0m[1mInitializing provider plugins...[0m
- Finding latest version of hashicorp/aws...
- Installing hashicorp/aws v6.27.0...
- Installed hashicorp/aws v6.27.0 (signed by HashiCorp)

Terraform has created a lock file [1m.terraform.lock.hcl[0m to record the provider
selections it made above. Include this file in your version control repository
so that Terraform can guarantee to make the same selections by default when
you run "terraform init" in the future.[0m

[0m[1m[32mTerraform has been successfully initialized![0m[32m[0m
[0m[32m
You may now begin working with Terraform. Try running "terraform plan" to see
any changes that are required for your infrastructure. All Terraform commands
should now work.

If you ever set or change modules or backend configuration for Terraform,
rerun this command to reinitialize your working directory. If you forget, other
commands will detect it and remind you to do so if necessary.[0m
+ terraform apply -auto-approve

Terraform used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  [32m+[0m create[0m

Terraform will perform the following actions:

[1m  # aws_instance.web[0m will be created
[0m  [32m+[0m[0m resource "aws_instance" "web" {
      [32m+[0m[0m ami                                  = "ami-053b0d53c279acc90"
      [32m+[0m[0m arn                                  = (known after apply)
      [32m+[0m[0m associate_public_ip_address          = (known after apply)
      [32m+[0m[0m availability_zone                    = (known after apply)
      [32m+[0m[0m disable_api_stop                     = (known after apply)
      [32m+[0m[0m disable_api_termination              = (known after apply)
      [32m+[0m[0m ebs_optimized                        = (known after apply)
      [32m+[0m[0m enable_primary_ipv6                  = (known after apply)
      [32m+[0m[0m force_destroy                        = false
      [32m+[0m[0m get_password_data                    = false
      [32m+[0m[0m host_id                              = (known after apply)
      [32m+[0m[0m host_resource_group_arn              = (known after apply)
      [32m+[0m[0m iam_instance_profile                 = (known after apply)
      [32m+[0m[0m id                                   = (known after apply)
      [32m+[0m[0m instance_initiated_shutdown_behavior = (known after apply)
      [32m+[0m[0m instance_lifecycle                   = (known after apply)
      [32m+[0m[0m instance_state                       = (known after apply)
      [32m+[0m[0m instance_type                        = "t3.micro"
      [32m+[0m[0m ipv6_address_count                   = (known after apply)
      [32m+[0m[0m ipv6_addresses                       = (known after apply)
      [32m+[0m[0m key_name                             = "Devopsec"
      [32m+[0m[0m monitoring                           = (known after apply)
      [32m+[0m[0m outpost_arn                          = (known after apply)
      [32m+[0m[0m password_data                        = (known after apply)
      [32m+[0m[0m placement_group                      = (known after apply)
      [32m+[0m[0m placement_group_id                   = (known after apply)
      [32m+[0m[0m placement_partition_number           = (known after apply)
      [32m+[0m[0m primary_network_interface_id         = (known after apply)
      [32m+[0m[0m private_dns                          = (known after apply)
      [32m+[0m[0m private_ip                           = (known after apply)
      [32m+[0m[0m public_dns                           = (known after apply)
      [32m+[0m[0m public_ip                            = (known after apply)
      [32m+[0m[0m region                               = "us-east-1"
      [32m+[0m[0m secondary_private_ips                = (known after apply)
      [32m+[0m[0m security_groups                      = (known after apply)
      [32m+[0m[0m source_dest_check                    = true
      [32m+[0m[0m spot_instance_request_id             = (known after apply)
      [32m+[0m[0m subnet_id                            = (known after apply)
      [32m+[0m[0m tags                                 = {
          [32m+[0m[0m "Name" = "DevSecOps-Web"
        }
      [32m+[0m[0m tags_all                             = {
          [32m+[0m[0m "Name" = "DevSecOps-Web"
        }
      [32m+[0m[0m tenancy                              = (known after apply)
      [32m+[0m[0m user_data                            = <<-EOT
            #!/bin/bash
            apt-get update -y
            apt-get install -y docker.io docker-compose git
            systemctl start docker
            systemctl enable docker
            usermod -aG docker ubuntu
            
            cd /home/ubuntu
            git clone https://github.com/Ronit-Waghambare/Solarv2.git
            cd Solarv2
            docker compose up -d
        EOT
      [32m+[0m[0m user_data_base64                     = (known after apply)
      [32m+[0m[0m user_data_replace_on_change          = false
      [32m+[0m[0m vpc_security_group_ids               = (known after apply)
    }

[1m  # aws_security_group.web_sg[0m will be created
[0m  [32m+[0m[0m resource "aws_security_group" "web_sg" {
      [32m+[0m[0m arn                    = (known after apply)
      [32m+[0m[0m description            = "Security group for web app"
      [32m+[0m[0m egress                 = [
          [32m+[0m[0m {
              [32m+[0m[0m cidr_blocks      = [
                  [32m+[0m[0m "0.0.0.0/0",
                ]
              [32m+[0m[0m description      = ""
              [32m+[0m[0m from_port        = 0
              [32m+[0m[0m ipv6_cidr_blocks = []
              [32m+[0m[0m prefix_list_ids  = []
              [32m+[0m[0m protocol         = "-1"
              [32m+[0m[0m security_groups  = []
              [32m+[0m[0m self             = false
              [32m+[0m[0m to_port          = 0
            },
        ]
      [32m+[0m[0m id                     = (known after apply)
      [32m+[0m[0m ingress                = [
          [32m+[0m[0m {
              [32m+[0m[0m cidr_blocks      = [
                  [32m+[0m[0m "0.0.0.0/0",
                ]
              [32m+[0m[0m description      = "React App"
              [32m+[0m[0m from_port        = 3000
              [32m+[0m[0m ipv6_cidr_blocks = []
              [32m+[0m[0m prefix_list_ids  = []
              [32m+[0m[0m protocol         = "tcp"
              [32m+[0m[0m security_groups  = []
              [32m+[0m[0m self             = false
              [32m+[0m[0m to_port          = 3000
            },
          [32m+[0m[0m {
              [32m+[0m[0m cidr_blocks      = [
                  [32m+[0m[0m "49.36.97.197/32",
                ]
              [32m+[0m[0m description      = "SSH"
              [32m+[0m[0m from_port        = 22
              [32m+[0m[0m ipv6_cidr_blocks = []
              [32m+[0m[0m prefix_list_ids  = []
              [32m+[0m[0m protocol         = "tcp"
              [32m+[0m[0m security_groups  = []
              [32m+[0m[0m self             = false
              [32m+[0m[0m to_port          = 22
            },
        ]
      [32m+[0m[0m name                   = (known after apply)
      [32m+[0m[0m name_prefix            = "web-sg-"
      [32m+[0m[0m owner_id               = (known after apply)
      [32m+[0m[0m region                 = "us-east-1"
      [32m+[0m[0m revoke_rules_on_delete = false
      [32m+[0m[0m tags_all               = (known after apply)
      [32m+[0m[0m vpc_id                 = (known after apply)
    }

[1mPlan:[0m 2 to add, 0 to change, 0 to destroy.
[0m
Changes to Outputs:
  [32m+[0m[0m instance_public_dns = (known after apply)
  [32m+[0m[0m instance_public_ip  = (known after apply)
[0m[1maws_security_group.web_sg: Creating...[0m[0m
[0m[1maws_security_group.web_sg: Creation complete after 6s [id=sg-03b922eb8583a7e94][0m
[0m[1maws_instance.web: Creating...[0m[0m
[0m[1maws_instance.web: Still creating... [10s elapsed][0m[0m
[0m[1maws_instance.web: Creation complete after 15s [id=i-025ee2a15c6e750f9][0m
[0m[1m[32m
Apply complete! Resources: 2 added, 0 changed, 0 destroyed.
[0m[0m[1m[32m
Outputs:

[0minstance_public_dns = "ec2-54-234-71-97.compute-1.amazonaws.com"
instance_public_ip = "54.234.71.97"
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // withCredentials
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
Finished: SUCCESS
